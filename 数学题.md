### 智力题
**64匹马，8赛道，找出最快的4匹最少要几次?**
https://my.oschina.net/u/4280361/blog/4529921


**天平称球**
https://zhuanlan.zhihu.com/p/507485830
https://www.youtube.com/watch?v=aEhp-N-kZFM

**5洞抓老鼠（第二天只能跑到相邻）**
关键之处在于：老鼠每次都会改变奇偶性
下面的步骤每次都是考虑最坏情况
1.不妨假设第一天老鼠在偶数箱子里，那我们就打开2号
2.第一天既然不在2号，那一定在4号，所以第二天我们打开3号，堵死老鼠往左的逃跑路线
3.第二天不在3号的话一定在5号，所以第三天打开我们打开4号就可以确保抓住老鼠了

如果第一天老鼠可能在奇数箱子里？
那么四天后，奇-偶-奇-偶，老鼠一定会出现在偶数箱子里
我们只要再执行一遍上述策略，那么就能在第六天确保抓住可怜的老鼠了。

n个洞时的可行方案
不论n多大，最坏情况下只需2n−4天就能逮到老鼠，策略是这样的：
若n为奇数，则从第一天开始搜寻的山洞编号为：2, 3, 4, …, n-1, 2, 3, 4, …, n-1；
若n为偶数，则从第一天开始搜寻的山洞编号为：2, 3, 4, …, n-1, n-1, n-2, …, 3, 2；
不管哪种情况，只需2n−4步即可逮到狐狸。

### 随机题
**randa生成randb**
https://blog.csdn.net/u010025211/article/details/49668017

```cpp
srand((unsigned)time(NULL));
// rand();  // 返回[0,max]之间的随机数
rand()%n;  // 返回[0,i-1]的随机整数
(rand()%(b-a))+a  // [a,b)
(rand()%(b-a+1))+a  // [a,b]
(rand()%(b-a))+a+1  // (a,b)
(rand()%(b-a)) + a  // [a,b)
rand()/double(RAND_MAX);  // [0,1]浮点数
```


### 从事先未知总数的对象中随机选择

比如：对链表进行一趟遍历，随机输出其中的一个结点的元素，只能使用一个临时指针。

解法是，以概率1选择第一个元素存入缓存，以概率1/2用第二个元素替换掉缓存，以概率1/3...1/n替换直至遍历完所有元素，最后输出缓存的内容。
可以分析出此时所有元素留在缓存的概率均为1/n，比如要最后留下3，前面2次无所谓，需要第三次用三替换，并且最后不被替换：(1/3)\*(3/4)...(n-1/n)=1/n。

```cpp
int num;
for (int i = 1; i != end; i++) {
    if (rand()%i == 0) {  // [0,i-1]中返回0的概率是 1/i
        num = i;
    }
}
return num;
```

# 赠券收集问题

餐馆每天随机发放十二生肖优惠券中的其中一张，问能收集齐12种不同的优惠券所需要的天数的数学期望。

假设Xi 是第i天 收集到 第 i 种不同的优惠券的概率，那么，第一天拿到第一种不重复的优惠券的概率是 1；第二天拿到第二种不重复的优惠券的概率是 11/12；第三天拿到第三种不重复的优惠券的概率是10/12……以此类推，第十二天拿到第12中不重复的优惠券的概率是1/12.

也就是说，拿到第一种不重复的优惠券所需要的天数是1，拿到第二种不重复的优惠券放所需的天数是12/11……以此类推，拿到第12种不重复的优惠券所需要的天数是12.

所以，根据总的数学期望==各项数学期望的和，我们可以得到，n张不同类型的优惠券，收集齐所需要的天数的数学期望是：

1 + n/(n-1) + n/(n-2) + ... + n/1 = n\*(1/n + 1/(n-1) + ... + 1) = n\[ln(n+1) + eta] (调和级数，欧拉常数eta=0.577)

# 前后筛子问题

每个玩家有一张包含16个覆盖点的纸牌，覆盖点下面隐藏着1\~16的随机排列。玩家每次刮开一个点，如果出现3，则判玩家负；如果出现1或2，则判玩家胜。那么，随机选择覆盖点刮开，获胜的概率是多少？

解答：

其实胜负只对应两种排列：1和2都出现在3前则胜，否则负。显然获胜的情况：

123 213 132 231

总数A33=6

所以概率为2/3
